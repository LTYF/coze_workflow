{"type":"coze-workflow-clipboard-data","source":{"workflowId":"7564208500592050219","flowMode":0,"spaceId":"7491983279684534324","isDouyin":false,"host":"www.coze.cn"},"json":{"nodes":[{"id":"163547","type":"5","meta":{"position":{"x":2145.4676884316996,"y":-882.0442005913176}},"data":{"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","subTitle":"代码","title":"代码_视频组装"},"inputs":{"inputParameters":[{"name":"scene_list","input":{"type":"list","schema":{"type":"object","schema":[{"type":"integer","name":"duration"},{"type":"string","name":"entrance"},{"type":"string","name":"exit"},{"type":"string","name":"url"}]},"value":{"type":"ref","content":{"source":"block-output","blockID":"157919","name":"scenes"},"rawMeta":{"type":103}}}},{"name":"clip_entrance","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"157919","name":"clip_entrance"},"rawMeta":{"type":1}}}},{"name":"main_bg","input":{"type":"string","assistType":2,"value":{"type":"ref","content":{"source":"block-output","blockID":"131139","name":"data"},"rawMeta":{"type":7}}}}],"code":"// 在这里，您可以通过 ‘params’  获取节点中的输入变量，并通过 'ret' 输出结果\n// 'params' 和 'ret' 已经被正确地注入到环境中\n// 下面是一个示例，获取节点输入中参数名为‘input’的值：\n// const input = params.input; \n// 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\n// const ret = { \"name\": ‘小明’, \"hobbies\": [“看书”, “旅游”] };\n\nasync function main({ params }: Args): Promise<Output> {\n\n    const { scene_list, clip_entrance, main_bg } = params;\n\n    // 处理音频数据\n    var audioStartTime = 0;\n    var animationDuration = 500000;\n    var clipMap = {\n        \"2\":{\n            transform_x:[-432,432],\n            transform_y:[768,-768],\n            scale:[0.60,0.60]\n        },\n        \"3\":{\n            transform_x:[-540,540,0],\n            transform_y:[960,960,-960],\n            scale:[0.5,0.5,0.5]\n        },\n        \"4\":{\n            transform_x:[-540,540,-540,540],\n            transform_y:[960,960,-960,-960],\n            scale:[0.5,0.5,0.5,0.5]\n        },\n        \"5\":{\n            transform_x:[-648,648,-648,648,0],\n            transform_y:[1152,1152,-1152,-1152,0],\n            scale:[0.4,0.4,0.4,0.4,0.4]\n        },\n        \"6\":{\n            transform_x:[-368,724,724,-724,0,724],\n            transform_y:[653,1287,0,-1287,-1287,-1287],\n            scale:[0.66,0.33,0.33,0.33,0.33,0.33]\n        },\n        \"7\":{\n            transform_x:[-486,486,-486,486,-724,0,724],\n            transform_y:[1287,1287,0,0,-1287,-1287,-1287],\n            scale:[0.33,0.33,0.33,0.33,0.33,0.33,0.33]\n        },\n        \"8\":{\n            transform_x:[-724,0,724,-486,486,-724,0,724],\n            transform_y:[1287,1287,1287,0,0,-1287,-1287,-1287],\n            scale:[0.33,0.33,0.33,0.33,0.33,0.33,0.33,0.33]\n        },\n        \"9\":{\n            transform_x:[-724,0,724,-724,0,724,-724,0,724],\n            transform_y:[1287,1287,1287,0,0,0,-1287,-1287,-1287],\n            scale:[0.33,0.33,0.33,0.33,0.33,0.33,0.33,0.33,0.33]\n        }\n    };\n\n    var main_duration = 0;\n    var main_count = scene_list.length;\n\n    if(main_count > 9){\n        main_count = 9;\n    }\n\n    var mainImageData = [];\n    \n    audioStartTime += (main_count + 1) * animationDuration;\n\n    mainImageData.push({\n        url: main_bg,\n        start: 0,\n        end: audioStartTime\n    });\n\n\n    var imageDataList = [];\n\n    var clip_start = 0;\n    var clipObj = clipMap[main_count+\"\"];\n    for(var i=0;i<main_count;i++){\n        if(scene_list[i]['url']){\n            var imageData = [];\n            imageData.push({\n                url: scene_list[i]['url'],\n                start: clip_start,\n                end: audioStartTime,\n                scale_x:clipObj['scale'][i],\n                scale_y:clipObj['scale'][i],\n                transform_x:clipObj['transform_x'][i],\n                transform_y:clipObj['transform_y'][i],\n                in_animation: clip_entrance,\n                in_animation_duration: animationDuration\n            });\n            clip_start += animationDuration;\n            imageDataList.push(JSON.stringify(imageData));\n        }\n    }\n    \n    \n    for (let i = 0; i < scene_list.length ; i++) {\n        var scene = scene_list[i];\n        var desc_duration = scene['duration']*1000000;\n        var entrance = scene['entrance'];\n        var exit = scene['exit'];\n        \n        if(scene['url']){\n            mainImageData.push({\n                url: scene['url'],\n                start: audioStartTime,\n                end: audioStartTime + desc_duration,\n                in_animation: entrance,\n                in_animation_duration: animationDuration,\n                out_animation: exit,\n                out_animation_duration: animationDuration\n            });\n        }\n        \n        \n        audioStartTime += desc_duration;\n    }\n\n    // 构建输出对象\n    const ret = {\n        \"mainImageData\": JSON.stringify(mainImageData),\n        \"duration\": audioStartTime,\n        \"imageDataList\": imageDataList\n    };\n\n    return ret;\n}\n\n\n\n","language":5,"settingOnError":{"switch":false,"processType":1,"timeoutMs":60000,"retryTimes":0}},"outputs":[{"type":"list","name":"imageDataList","schema":{"type":"string"}},{"type":"integer","name":"duration"},{"type":"string","name":"mainImageData"}],"version":"v2"},"_temp":{"bounds":{"x":1965.4676884316996,"y":-882.0442005913176,"width":360,"height":112},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","description":"编写代码，处理输入变量来生成返回值","title":"代码","mainColor":"#00B2B2"}}},{"id":"107619","type":"4","meta":{"position":{"x":2836.1997263892226,"y":-1154.0442005913176}},"data":{"nodeMeta":{"description":"创建草稿","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/767544b57bff428fafd23665afa42d43~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1758075633&x-signature=lhtz0eQf9zhkGGps2%2Bya4Zk2BQQ%3D","subtitle":"剪映草稿文件夹小助手:create_draft","title":"创建草稿"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7537991942484017202","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"create_draft","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7537991942483918898","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映草稿文件夹小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"height","input":{"type":"integer","value":{"type":"literal","content":1920,"rawMeta":{"type":2}}}},{"name":"width","input":{"type":"integer","value":{"type":"literal","content":1080,"rawMeta":{"type":2}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","name":"draft_id","required":false,"description":"草稿ID"}]},"_temp":{"bounds":{"x":2656.1997263892226,"y":-1154.0442005913176,"width":360,"height":112},"externalData":{"icon":"https://lf26-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/1722314331273307_1755134156461673596_noOqGNRWn0.png?lk3s=cd508e2b&x-expires=1763804660&x-signature=JfVH%2FeaqqoKoF4y5sIzsQr7nE2U%3D","apiName":"create_draft","pluginID":"7537991942483918898","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7491992518092357686","inputs":[{"description":"高度","input":{},"name":"height","required":true,"type":"integer"},{"description":"宽度","input":{},"name":"width","required":true,"type":"integer"}],"outputs":[{"description":"草稿ID","input":{},"name":"draft_id","required":false,"type":"string"}],"updateTime":1761189030,"channel_id":2,"commercial_setting":{},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"创建草稿","title":"create_draft","mainColor":"#CA61FF"}}},{"id":"164177","type":"4","meta":{"position":{"x":2836.1997263892235,"y":-636.0442005913176}},"data":{"nodeMeta":{"description":"批量添加图片","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/767544b57bff428fafd23665afa42d43~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1758075633&x-signature=lhtz0eQf9zhkGGps2%2Bya4Zk2BQQ%3D","subtitle":"剪映草稿文件夹小助手:add_images","title":"添加分镜图片_main"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7537991942483951666","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_images","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7537991942483918898","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映草稿文件夹小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"draft_id","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"107619","name":"draft_id"},"rawMeta":{"type":1}}}},{"name":"infos","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"163547","name":"mainImageData"},"rawMeta":{"type":1}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","name":"draft_id","required":false,"description":"草稿ID"},{"type":"list","name":"material_ids","schema":{"type":"string"},"required":false,"description":"素材ID列表"},{"type":"list","name":"segment_ids","schema":{"type":"string"},"required":false,"description":"片段ID列表"},{"type":"list","name":"segment_infos","schema":{"type":"object","schema":[{"type":"integer","name":"end","required":false,"description":"结束时间点（微秒）"},{"type":"string","name":"id","required":false,"description":"ID"},{"type":"integer","name":"start","required":false,"description":"开始时间点（微秒）"}]},"required":false,"description":"片段信息列表"},{"type":"string","name":"track_id","required":false,"description":"轨道ID"}]},"_temp":{"bounds":{"x":2656.1997263892235,"y":-636.0442005913176,"width":360,"height":112},"externalData":{"icon":"https://lf26-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/1722314331273307_1755134156461673596_noOqGNRWn0.png?lk3s=cd508e2b&x-expires=1763804660&x-signature=JfVH%2FeaqqoKoF4y5sIzsQr7nE2U%3D","apiName":"add_images","pluginID":"7537991942483918898","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7491992518092357686","inputs":[{"description":"出场动画","input":{},"name":"out_animation","required":false,"type":"string"},{"description":"缩放","input":{},"name":"scale_x","required":false,"type":"float"},{"description":"缩放","input":{},"name":"scale_y","required":false,"type":"float"},{"description":"位置，[-画布宽度，+画布宽度]","input":{},"name":"transform_x","required":false,"type":"integer"},{"description":"位置，[-画布高度，+画布高度]，默认为-0.8*画布高度，即在画布底部","input":{},"name":"transform_y","required":false,"type":"integer"},{"description":"草稿ID","input":{},"name":"draft_id","required":true,"type":"string"},{"description":"入场动画","input":{},"name":"in_animation","required":false,"type":"string"},{"description":"入场动画时长（微秒）","input":{},"name":"in_animation_duration","required":false,"type":"integer"},{"description":"图片信息列表","input":{},"name":"infos","required":true,"type":"string"},{"description":"出场动画时长（微秒）","input":{},"name":"out_animation_duration","required":false,"type":"integer"}],"outputs":[{"description":"草稿ID","input":{},"name":"draft_id","required":false,"type":"string"},{"description":"素材ID列表","input":{},"name":"material_ids","required":false,"schema":{"assistType":0,"type":"string"},"type":"list"},{"description":"片段ID列表","input":{},"name":"segment_ids","required":false,"schema":{"assistType":0,"type":"string"},"type":"list"},{"description":"片段信息列表","input":{},"name":"segment_infos","required":false,"schema":{"schema":[{"description":"结束时间点（微秒）","input":{},"name":"end","required":false,"type":"integer"},{"description":"ID","input":{},"name":"id","required":false,"type":"string"},{"description":"开始时间点（微秒）","input":{},"name":"start","required":false,"type":"integer"}],"type":"object"},"type":"list"},{"description":"轨道ID","input":{},"name":"track_id","required":false,"type":"string"}],"updateTime":1761189030,"channel_id":2,"commercial_setting":{},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"批量添加图片","title":"add_images","mainColor":"#CA61FF"}}},{"id":"169807","type":"15","meta":{"position":{"x":3586.8233142789654,"y":-636.0442005913176}},"data":{"nodeMeta":{"description":"用于处理多个字符串类型变量的格式","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-StrConcat-v2.jpg","mainColor":"#3071F2","subTitle":"文本处理","title":"生成下载地址"},"inputs":{"method":"concat","inputParameters":[{"name":"String1","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"107619","name":"draft_id"},"rawMeta":{"type":1}}}}],"concatParams":[{"name":"concatResult","input":{"type":"string","value":{"type":"literal","content":"https://cdn-rd-aiqnwmini.vas.lutongnet.com/aiqnwmini/download-draft/index.html?draftId={{String1}}","rawMeta":{"type":1}}}},{"name":"arrayItemConcatChar","input":{"type":"string","value":{"type":"literal","content":"，","rawMeta":{"type":1}}}},{"name":"allArrayItemConcatChars","input":{"type":"list","schema":{"type":"object","schema":[{"type":"string","name":"label","required":true},{"type":"string","name":"value","required":true},{"type":"boolean","name":"isDefault","required":true}]},"value":{"type":"literal","content":[{"isDefault":true,"label":"换行","value":"\n"},{"isDefault":true,"label":"制表符","value":"\t"},{"isDefault":true,"label":"句号","value":"。"},{"isDefault":true,"label":"逗号","value":"，"},{"isDefault":true,"label":"分号","value":"；"},{"isDefault":true,"label":"空格","value":" "}]}}}]},"outputs":[{"type":"string","name":"output","required":true}]},"_temp":{"bounds":{"x":3406.8233142789654,"y":-636.0442005913176,"width":360,"height":112},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-StrConcat-v2.jpg","description":"用于处理多个字符串类型变量的格式","title":"文本处理","mainColor":"#3071F2"}}},{"id":"142888","type":"4","meta":{"position":{"x":2145.4676884316996,"y":-636.0442005913176}},"data":{"nodeMeta":{"description":"根据关键词搜索背景音乐","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"背景音乐库:search_bgm","title":"search_bgm"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7477778304427261963","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"search_bgm","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7477778304427245579","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"背景音乐库","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"keyword","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"157919","name":"bgm_name"},"rawMeta":{"type":1}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"list","name":"data","schema":{"type":"object","schema":[{"type":"string","name":"bgm_url","required":false},{"type":"list","name":"bgm_urls","schema":{"type":"string"},"required":false},{"type":"object","name":"cover_url","schema":[{"type":"string","name":"hd","required":false},{"type":"string","name":"large","required":false},{"type":"string","name":"medium","required":false},{"type":"string","name":"thumb","required":false}],"required":false},{"type":"integer","name":"duration","required":false},{"type":"list","name":"timelines","schema":{"type":"object","schema":[{"type":"integer","name":"end","required":false},{"type":"integer","name":"start","required":false}]},"required":false},{"type":"string","name":"title","required":false}]},"required":false},{"type":"string","name":"message","required":false},{"type":"boolean","name":"success","required":false}]},"_temp":{"bounds":{"x":1965.4676884316996,"y":-636.0442005913176,"width":360,"height":112},"externalData":{"icon":"https://lf3-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/3778360647354254_1741054893759568570_tH5ww0mcxx.jpeg?lk3s=cd508e2b&x-expires=1763804660&x-signature=onDX%2BjRCPri4oyqsC2XPmEpjca8%3D","apiName":"search_bgm","pluginID":"7477778304427245579","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7391771569926127635","inputs":[{"description":"关键词","input":{},"name":"keyword","required":true,"type":"string"}],"outputs":[{"input":{},"name":"data","required":false,"schema":{"schema":[{"input":{},"name":"bgm_urls","required":false,"schema":{"assistType":0,"type":"string"},"type":"list"},{"input":{},"name":"cover_url","required":false,"schema":[{"input":{},"name":"large","required":false,"type":"string"},{"input":{},"name":"medium","required":false,"type":"string"},{"input":{},"name":"thumb","required":false,"type":"string"},{"input":{},"name":"hd","required":false,"type":"string"}],"type":"object"},{"input":{},"name":"duration","required":false,"type":"integer"},{"input":{},"name":"timelines","required":false,"schema":{"schema":[{"input":{},"name":"end","required":false,"type":"integer"},{"input":{},"name":"start","required":false,"type":"integer"}],"type":"object"},"type":"list"},{"input":{},"name":"title","required":false,"type":"string"},{"input":{},"name":"bgm_url","required":false,"type":"string"}],"type":"object"},"type":"list"},{"input":{},"name":"message","required":false,"type":"string"},{"input":{},"name":"success","required":false,"type":"boolean"}],"updateTime":1761212060,"channel_id":2,"commercial_setting":{},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"根据关键词搜索背景音乐","title":"search_bgm","mainColor":"#CA61FF"}}},{"id":"1466509","type":"5","meta":{"position":{"x":2145.4676884316996,"y":-390.0442005913176}},"data":{"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","subTitle":"代码","title":"代码_背景音乐挑选"},"inputs":{"inputParameters":[{"name":"music_list","input":{"type":"list","schema":{"type":"object","schema":[{"type":"string","name":"bgm_url","required":false},{"type":"list","name":"bgm_urls","schema":{"type":"string"},"required":false},{"type":"object","name":"cover_url","schema":[{"type":"string","name":"hd","required":false},{"type":"string","name":"large","required":false},{"type":"string","name":"medium","required":false},{"type":"string","name":"thumb","required":false}],"required":false},{"type":"integer","name":"duration","required":false},{"type":"list","name":"timelines","schema":{"type":"object","schema":[{"type":"integer","name":"end","required":false},{"type":"integer","name":"start","required":false}]},"required":false},{"type":"string","name":"title","required":false}]},"value":{"type":"ref","content":{"source":"block-output","blockID":"142888","name":"data"},"rawMeta":{"type":103}}}},{"name":"duration","input":{"type":"integer","value":{"type":"ref","content":{"source":"block-output","blockID":"163547","name":"duration"},"rawMeta":{"type":2}}}}],"code":"// 在这里，您可以通过 ‘params’  获取节点中的输入变量，并通过 'ret' 输出结果\n// 'params' 和 'ret' 已经被正确地注入到环境中\n// 下面是一个示例，获取节点输入中参数名为‘input’的值：\n// const input = params.input; \n// 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\n// const ret = { \"name\": ‘小明’, \"hobbies\": [“看书”, “旅游”] };\n\nasync function main({ params }: Args): Promise<Output> {\n\n    const { music_list, duration } = params;\n\n    // 处理音频数据\n    const audioData = [];\n    const audioArr = [];\n\n    for(var i=0;i<music_list.length;i++){\n        var music = music_list[i];\n        if(music.bgm_url && music.duration > duration){\n            audioArr.push({\n                url: music.bgm_url,\n                duration:duration,\n                start: 0,\n                end:  duration\n            });\n        }\n    }\n    \n    \n    if(audioArr.length>0){\n        var randomIndex = Math.floor(Math.random() * audioArr.length);\n        audioData.push(audioArr[randomIndex]);\n    }\n\n    \n    // 构建输出对象\n    const ret = {\n        \"audioData\": JSON.stringify(audioData)\n    };\n\n    return ret;\n}\n\n\n\n","language":5,"settingOnError":{"switch":false,"processType":1,"timeoutMs":60000,"retryTimes":0}},"outputs":[{"type":"string","name":"audioData"}],"version":"v2"},"_temp":{"bounds":{"x":1965.4676884316996,"y":-390.0442005913176,"width":360,"height":112},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","description":"编写代码，处理输入变量来生成返回值","title":"代码","mainColor":"#00B2B2"}}},{"id":"106125","type":"4","meta":{"position":{"x":2836.1997263892235,"y":-882.0442005913176}},"data":{"nodeMeta":{"description":"批量添加音频","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/767544b57bff428fafd23665afa42d43~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1758075633&x-signature=lhtz0eQf9zhkGGps2%2Bya4Zk2BQQ%3D","subtitle":"剪映草稿文件夹小助手:add_audios","title":"添加背景音"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7537991942483935282","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_audios","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7537991942483918898","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映草稿文件夹小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"draft_id","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"107619","name":"draft_id"},"rawMeta":{"type":1}}}},{"name":"infos","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"1466509","name":"audioData"},"rawMeta":{"type":1}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","name":"draft_id","required":false,"description":"草稿ID"},{"type":"list","name":"material_ids","schema":{"type":"string"},"required":false,"description":"素材ID列表"},{"type":"list","name":"segment_ids","schema":{"type":"string"},"required":false,"description":"片段ID列表"},{"type":"string","name":"track_id","required":false,"description":"轨道ID"}]},"_temp":{"bounds":{"x":2656.1997263892235,"y":-882.0442005913176,"width":360,"height":112},"externalData":{"icon":"https://lf3-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/1722314331273307_1755134156461673596_noOqGNRWn0.png?lk3s=cd508e2b&x-expires=1763804660&x-signature=EWGUaeXxhQqm2G8tYAdCAxhHLZU%3D","apiName":"add_audios","pluginID":"7537991942483918898","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7491992518092357686","inputs":[{"description":"草稿ID","input":{},"name":"draft_id","required":true,"type":"string"},{"description":"音频信息列表","input":{},"name":"infos","required":true,"type":"string"}],"outputs":[{"description":"草稿ID","input":{},"name":"draft_id","required":false,"type":"string"},{"description":"素材ID列表","input":{},"name":"material_ids","required":false,"schema":{"assistType":0,"type":"string"},"type":"list"},{"description":"片段ID列表","input":{},"name":"segment_ids","required":false,"schema":{"assistType":0,"type":"string"},"type":"list"},{"description":"轨道ID","input":{},"name":"track_id","required":false,"type":"string"}],"updateTime":1761189030,"channel_id":2,"commercial_setting":{},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"批量添加音频","title":"add_audios","mainColor":"#CA61FF"}}},{"id":"167996","type":"4","meta":{"position":{"x":3586.8233142789654,"y":-882.0442005913176}},"data":{"nodeMeta":{"description":"批量添加关键帧","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/767544b57bff428fafd23665afa42d43~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1758075633&x-signature=lhtz0eQf9zhkGGps2%2Bya4Zk2BQQ%3D","subtitle":"剪映草稿文件夹小助手:add_keyframes","title":"添加关键帧"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7537991942483968050","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_keyframes","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7537991942483918898","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映草稿文件夹小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"draft_id","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"107619","name":"draft_id"},"rawMeta":{"type":1}}}},{"name":"infos","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"120984","name":"keyFrames"},"rawMeta":{"type":1}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","name":"draft_id","required":false,"description":"草稿ID"}]},"_temp":{"bounds":{"x":3406.8233142789654,"y":-882.0442005913176,"width":360,"height":112},"externalData":{"icon":"https://lf3-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/1722314331273307_1755134156461673596_noOqGNRWn0.png?lk3s=cd508e2b&x-expires=1763804660&x-signature=EWGUaeXxhQqm2G8tYAdCAxhHLZU%3D","apiName":"add_keyframes","pluginID":"7537991942483918898","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7491992518092357686","inputs":[{"description":"关键帧信息列表","input":{},"name":"infos","required":true,"type":"string"},{"description":"草稿ID","input":{},"name":"draft_id","required":true,"type":"string"}],"outputs":[{"description":"草稿ID","input":{},"name":"draft_id","required":false,"type":"string"}],"updateTime":1761189030,"channel_id":2,"commercial_setting":{},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"批量添加关键帧","title":"add_keyframes","mainColor":"#CA61FF"}}},{"id":"120984","type":"5","meta":{"position":{"x":3586.8233142789654,"y":-1154.0442005913176}},"data":{"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","subTitle":"代码","title":"代码_关键帧"},"inputs":{"inputParameters":[{"name":"segment_ids","input":{"type":"list","schema":{"type":"string"},"value":{"type":"ref","content":{"source":"block-output","blockID":"164177","name":"segment_ids"},"rawMeta":{"type":99}}}},{"name":"scene_list","input":{"type":"list","schema":{"type":"object","schema":[{"type":"integer","name":"duration"},{"type":"string","name":"entrance"},{"type":"string","name":"exit"},{"type":"string","name":"url"}]},"value":{"type":"ref","content":{"source":"block-output","blockID":"157919","name":"scenes"},"rawMeta":{"type":103}}}}],"code":"import json\n\nasync def main(args: Args) -> Output:\n    params = args.params\n    segment_ids = params['segment_ids']\n    scene_list = params['scene_list']\n    \n    keyframes = []\n    \n    for idx, seg_id in enumerate(segment_ids):\n        \n        # 根据循环索引决定缩放方向\n        cycle_idx = idx - 1  # 计算排除第一个元素后的循环索引\n        if idx > 0:\n\n            # 获取对应音频时长并转换微秒\n            audio_duration = int(float(scene_list[cycle_idx-1][\"duration\"])*1000000)\n        \n            if cycle_idx % 2 == 0:  # 偶数索引：1.0 -> 1.1\n                start_scale = 1.0\n                end_scale = 1.1\n            else:  # 奇数索引：1.1 -> 1.0\n                start_scale = 1.1\n                end_scale = 1.0\n            \n            # 起始关键帧\n            keyframes.append({\n                \"time_offset\": 0, #0秒位置\n                \"property\": \"UNIFORM_SCALE\",\n                \"segment_id\": seg_id,\n                \"value\": start_scale,\n                \"easing\": \"linear\"\n            })\n\n            # 结束关键帧）\n            keyframes.append({\n                \"time_offset\": audio_duration,  # 使用实际音频时长\n                \"property\": \"UNIFORM_SCALE\",\n                \"segment_id\": seg_id,\n                \"value\": end_scale,\n                \"easing\": \"linear\"\n            })\n\n    return {\n        \"keyFrames\": json.dumps(keyframes)\n    }\n\n","language":3,"settingOnError":{"switch":false,"processType":1,"timeoutMs":60000,"retryTimes":0}},"outputs":[{"type":"string","name":"keyFrames","required":false}]},"_temp":{"bounds":{"x":3406.8233142789654,"y":-1154.0442005913176,"width":360,"height":112},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","description":"编写代码，处理输入变量来生成返回值","title":"代码","mainColor":"#00B2B2"}}},{"id":"192175","type":"28","meta":{"position":{"x":2836.1997263892235,"y":-390.0442005913176},"canvasPosition":{"x":2656.1997263892235,"y":-44.044200591317576}},"data":{"inputs":{"batchSize":{"type":"integer","value":{"type":"literal","content":100,"rawMeta":{"type":2}}},"concurrentSize":{"type":"integer","value":{"type":"literal","content":1,"rawMeta":{"type":2}}},"inputParameters":[{"name":"imageDataList","input":{"type":"list","schema":{"type":"string"},"value":{"type":"ref","content":{"source":"block-output","blockID":"163547","name":"imageDataList"},"rawMeta":{"type":99}}}}]},"nodeMeta":{"description":"通过设定批量运行次数和逻辑，运行批处理体内的任务","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Batch-v2.jpg","mainColor":"#00B2B2","subTitle":"批处理","title":"批处理_添加分镜图片"},"outputs":[]},"blocks":[{"id":"113377","type":"4","meta":{"position":{"x":180,"y":0}},"data":{"nodeMeta":{"description":"批量添加图片","icon":"https://p9-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/767544b57bff428fafd23665afa42d43~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1763773340&x-signature=Y7wZabGCiLGJ2dftQ%2BbN%2BZzBSb4%3D","subtitle":"剪映草稿文件夹小助手:add_images","title":"添加分镜图片_image"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7537991942483951666","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_images","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7537991942483918898","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映草稿文件夹小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"draft_id","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"107619","name":"draft_id"},"rawMeta":{"type":1}}}},{"name":"infos","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"192175","name":"imageDataList"},"rawMeta":{"type":1}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","name":"track_id","required":false,"description":"轨道ID"},{"type":"string","name":"draft_id","required":false,"description":"草稿ID"},{"type":"list","name":"material_ids","schema":{"type":"string"},"required":false,"description":"素材ID列表"},{"type":"list","name":"segment_ids","schema":{"type":"string"},"required":false,"description":"片段ID列表"},{"type":"list","name":"segment_infos","schema":{"type":"object","schema":[{"type":"integer","name":"end","required":false,"description":"结束时间点（微秒）"},{"type":"string","name":"id","required":false,"description":"ID"},{"type":"integer","name":"start","required":false,"description":"开始时间点（微秒）"}]},"required":false,"description":"片段信息列表"}]},"_temp":{"bounds":{"x":2656.1997263892235,"y":-44.044200591317576,"width":360,"height":112},"externalData":{"icon":"https://lf26-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/1722314331273307_1755134156461673596_noOqGNRWn0.png?lk3s=cd508e2b&x-expires=1763804660&x-signature=JfVH%2FeaqqoKoF4y5sIzsQr7nE2U%3D","apiName":"add_images","pluginID":"7537991942483918898","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7491992518092357686","inputs":[{"description":"出场动画","input":{},"name":"out_animation","required":false,"type":"string"},{"description":"缩放","input":{},"name":"scale_x","required":false,"type":"float"},{"description":"缩放","input":{},"name":"scale_y","required":false,"type":"float"},{"description":"位置，[-画布宽度，+画布宽度]","input":{},"name":"transform_x","required":false,"type":"integer"},{"description":"位置，[-画布高度，+画布高度]，默认为-0.8*画布高度，即在画布底部","input":{},"name":"transform_y","required":false,"type":"integer"},{"description":"草稿ID","input":{},"name":"draft_id","required":true,"type":"string"},{"description":"入场动画","input":{},"name":"in_animation","required":false,"type":"string"},{"description":"入场动画时长（微秒）","input":{},"name":"in_animation_duration","required":false,"type":"integer"},{"description":"图片信息列表","input":{},"name":"infos","required":true,"type":"string"},{"description":"出场动画时长（微秒）","input":{},"name":"out_animation_duration","required":false,"type":"integer"}],"outputs":[{"description":"草稿ID","input":{},"name":"draft_id","required":false,"type":"string"},{"description":"素材ID列表","input":{},"name":"material_ids","required":false,"schema":{"assistType":0,"type":"string"},"type":"list"},{"description":"片段ID列表","input":{},"name":"segment_ids","required":false,"schema":{"assistType":0,"type":"string"},"type":"list"},{"description":"片段信息列表","input":{},"name":"segment_infos","required":false,"schema":{"schema":[{"description":"结束时间点（微秒）","input":{},"name":"end","required":false,"type":"integer"},{"description":"ID","input":{},"name":"id","required":false,"type":"string"},{"description":"开始时间点（微秒）","input":{},"name":"start","required":false,"type":"integer"}],"type":"object"},"type":"list"},{"description":"轨道ID","input":{},"name":"track_id","required":false,"type":"string"}],"updateTime":1761189030,"channel_id":2,"commercial_setting":{},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"批量添加图片","title":"add_images","mainColor":"#CA61FF"}}}],"edges":[{"sourceNodeID":"192175","targetNodeID":"113377","sourcePortID":"batch-function-inline-output"},{"sourceNodeID":"113377","targetNodeID":"192175","targetPortID":"batch-function-inline-input"}],"_temp":{"bounds":{"x":2656.1997263892235,"y":-390.0442005913176,"width":360,"height":112},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Batch-v2.jpg","description":"通过设定批量运行次数和逻辑，运行批处理体内的任务","title":"批处理","mainColor":"#00B2B2"}}},{"id":"131139","type":"16","meta":{"position":{"x":2145.4676884316996,"y":-1180.0442005913176}},"data":{"inputs":{"apiParam":null,"inputParameters":[{"name":"desc_prompt","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"157919","name":"prompt"},"rawMeta":{"type":1}}}}],"modelSetting":{"custom_ratio":{"height":1024,"ratio_type":"fixed","width":576},"ddim_steps":40,"images_reference":{},"model":8,"ratio":0},"prompt":{"negative_prompt":"","prompt":"{{desc_prompt}}"},"references":[],"settingOnError":{"switch":false,"processType":1,"timeoutMs":60000,"retryTimes":0}},"nodeMeta":{"description":"通过文字描述/添加参考图生成图片","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-ImageGeneration-v2.jpg","title":"图像生成","subTitle":"图像生成"},"outputs":[{"type":"string","assistType":2,"name":"data","required":false},{"type":"string","name":"msg","required":false}],"settings":null,"version":"","settingOnError":{"settingOnErrorIsOpen":false,"processType":1,"timeoutMs":60000,"retryTimes":0}},"_temp":{"bounds":{"x":1965.4676884316996,"y":-1180.0442005913176,"width":360,"height":164},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-ImageGeneration-v2.jpg","description":"通过文字描述/添加参考图生成图片","title":"图像生成","mainColor":"#FF4DC3"}}},{"id":"1659897","type":"28","meta":{"position":{"x":984.6886891720478,"y":-1154.0442005913176},"canvasPosition":{"x":544.3573498372543,"y":-759.7837796279267}},"data":{"inputs":{"batchSize":{"type":"integer","value":{"type":"literal","content":100,"rawMeta":{"type":2}}},"concurrentSize":{"type":"integer","value":{"type":"literal","content":1,"rawMeta":{"type":2}}},"inputParameters":[{"name":"image_list","input":{"type":"list","schema":{"type":"string","assistType":2},"value":{"type":"ref","content":{"source":"block-output","blockID":"100001","name":"image_list"},"rawMeta":{"type":104}}}}]},"nodeMeta":{"description":"通过设定批量运行次数和逻辑，运行批处理体内的任务","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Batch-v2.jpg","mainColor":"#00B2B2","subTitle":"批处理","title":"批处理_处理图片"},"outputs":[{"name":"image_list","input":{"type":"list","schema":{"type":"object","schema":[{"type":"string","name":"url"},{"type":"string","name":"desc"}]},"value":{"type":"ref","content":{"source":"block-output","blockID":"1514759","name":"image"},"rawMeta":{"type":6}}}}]},"blocks":[{"id":"1236109","type":"23","meta":{"position":{"x":180,"y":0}},"data":{"inputs":{"canvasSchema":"{\"version\":\"6.0.0-rc2\",\"width\":1080,\"height\":1920,\"backgroundColor\":\"#ffffff33\",\"customVariableRefs\":[{\"variableId\":\"sa8Gc1Pfn07JUgR-Ka9_Q\",\"objectId\":\"JKoG7dTJj_-PuosBZ9ij1\",\"variableName\":\"image\"},{\"variableId\":\"sa8Gc1Pfn07JUgR-Ka9_Q\",\"objectId\":\"cOPcp_jPKEuTOQxxKOoUh\",\"variableName\":\"image\"}],\"objects\":[{\"subTargetCheck\":false,\"interactive\":false,\"width\":1096.4211,\"height\":1918.6948,\"backgroundColor\":\"\",\"padding\":0,\"customFixedHeight\":1918.6947736842108,\"customId\":\"JKoG7dTJj_-PuosBZ9ij1\",\"customType\":\"img\",\"type\":\"Group\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":-14.5263,\"top\":-1.2211,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0,\"clipPath\":{\"rx\":0,\"ry\":0,\"width\":1096.4211,\"height\":1918.6948,\"backgroundColor\":\"\",\"padding\":0,\"type\":\"Rect\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":-548.2105,\"top\":-959.3474,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0,\"inverted\":false,\"absolutePositioned\":false},\"layoutManager\":{\"type\":\"layoutManager\",\"strategy\":\"fit-content\"},\"objects\":[{\"cropX\":0,\"cropY\":0,\"width\":400,\"height\":400,\"editable\":false,\"backgroundColor\":\"\",\"padding\":0,\"customFixedType\":\"fill\",\"type\":\"Image\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":-959.8474,\"top\":-959.8474,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":4.7992,\"scaleY\":4.7992,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":0.2,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0,\"src\":\"https://lf-coze-web-cdn.coze.cn/obj/eden-cn/lm-lgvj/ljhwZthlaukjlkulzlp//workflow/fabric-canvas/img-placeholder.png\",\"crossOrigin\":null,\"filters\":[]},{\"rx\":0,\"ry\":0,\"width\":1096.4211,\"height\":1918.6948,\"backgroundColor\":\"\",\"padding\":0,\"type\":\"Rect\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":-548.2105,\"top\":-959.3474,\"fill\":\"#00000000\",\"stroke\":\"#000000ff\",\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0}]},{\"subTargetCheck\":false,\"interactive\":false,\"width\":1002.9474,\"height\":1835.3264,\"backgroundColor\":\"\",\"padding\":0,\"customFixedHeight\":1835.326352631579,\"customId\":\"cOPcp_jPKEuTOQxxKOoUh\",\"customType\":\"img\",\"type\":\"Group\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":36,\"top\":36.6736,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0,\"clipPath\":{\"rx\":0,\"ry\":0,\"width\":1002.9474,\"height\":1835.3264,\"backgroundColor\":\"\",\"padding\":0,\"type\":\"Rect\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":-501.4737,\"top\":-917.6632,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0,\"inverted\":false,\"absolutePositioned\":false},\"layoutManager\":{\"type\":\"layoutManager\",\"strategy\":\"fit-content\"},\"objects\":[{\"cropX\":0,\"cropY\":0,\"width\":400,\"height\":400,\"editable\":false,\"backgroundColor\":\"\",\"padding\":0,\"customFixedType\":\"auto\",\"type\":\"Image\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":-501.9737,\"top\":-501.9737,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":2.5099,\"scaleY\":2.5099,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0,\"src\":\"https://lf-coze-web-cdn.coze.cn/obj/eden-cn/lm-lgvj/ljhwZthlaukjlkulzlp//workflow/fabric-canvas/img-placeholder.png\",\"crossOrigin\":null,\"filters\":[]},{\"rx\":0,\"ry\":0,\"width\":1002.9474,\"height\":1003.9474,\"backgroundColor\":\"\",\"padding\":0,\"type\":\"Rect\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":-501.4737,\"top\":-501.9737,\"fill\":\"#00000000\",\"stroke\":\"#000000ff\",\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0}]}],\"background\":\"#ffffff33\"}","inputParameters":[{"name":"image","input":{"type":"string","assistType":2,"value":{"type":"ref","content":{"source":"block-output","blockID":"1659897","name":"image_list"},"rawMeta":{"type":7}}},"id":"sa8Gc1Pfn07JUgR-Ka9_Q"}],"settingOnError":{"processType":1,"timeoutMs":60000,"retryTimes":0}},"nodeMeta":{"description":"自定义画板排版，支持引用添加文本和图片","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon_DrawingBoard_v2.jpg","mainColor":"#FF4DC3","subTitle":"画板","title":"画板_裁剪图片"},"outputs":[{"type":"string","assistType":2,"name":"data"},{"type":"string","name":"msg"}],"settingOnError":{"processType":1,"timeoutMs":60000,"retryTimes":0}},"_temp":{"bounds":{"x":544.3573498372543,"y":-759.7837796279267,"width":360,"height":112},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon_DrawingBoard_v2.jpg","description":"自定义画板排版，支持引用添加文本和图片","title":"画板","mainColor":"#FF4DC3"}}},{"id":"1406100","type":"4","meta":{"position":{"x":180.00000000000003,"y":226.41589549238861}},"data":{"nodeMeta":{"description":"回答用户关于图像的问题","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"图片理解:imgUnderstand","title":"分析图片"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7407644410588151819","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"imgUnderstand","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7379227414322217010","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"图片理解","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"url","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"1659897","name":"image_list"},"rawMeta":{"type":1}}}}],"settingOnError":{"switch":true,"dataOnErr":"{\n    \"code\": 0,\n    \"content_type\": 0,\n    \"msg\": \"\",\n    \"response_for_model\": \"\",\n    \"type_for_model\": 0\n}","processType":2,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"float","name":"code","required":false},{"type":"integer","name":"content_type","required":false},{"type":"string","name":"msg","required":false},{"type":"string","name":"response_for_model","required":false,"description":"VLM's answer about this image"},{"type":"integer","name":"type_for_model","required":false},{"type":"object","name":"errorBody","schema":[{"type":"string","name":"errorMessage","readonly":true},{"type":"string","name":"errorCode","readonly":true}],"readonly":true},{"type":"boolean","name":"isSuccess","readonly":true}]},"_temp":{"bounds":{"x":544.3573498372543,"y":-533.3678841355381,"width":360,"height":112},"externalData":{"icon":"https://lf3-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/847077809337655_1706633870903670062_nZPstQdbIb.png?lk3s=cd508e2b&x-expires=1763804660&x-signature=0RRUP21m3oJ4pYxcYveX46S26Do%3D","apiName":"imgUnderstand","pluginID":"7379227414322217010","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7315016311652941851","inputs":[{"description":"用户关于图片的问题","input":{},"name":"text","required":false,"type":"string"},{"description":"图像的URL地址，可以从中下载图像的二进制信息","input":{},"name":"url","required":false,"type":"string"}],"outputs":[{"input":{},"name":"msg","required":false,"type":"string"},{"description":"VLM's answer about this image","input":{},"name":"response_for_model","required":false,"type":"string"},{"input":{},"name":"type_for_model","required":false,"type":"integer"},{"input":{},"name":"code","required":false,"type":"float"},{"input":{},"name":"content_type","required":false,"type":"integer"}],"updateTime":1761212604,"channel_id":2,"commercial_setting":{},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"回答用户关于图像的问题","title":"imgUnderstand","mainColor":"#CA61FF"}}},{"id":"1514759","type":"5","meta":{"position":{"x":700.6626786695872,"y":112.00000000000001}},"data":{"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","subTitle":"代码","title":"代码_整理图片"},"inputs":{"inputParameters":[{"name":"desc","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"1406100","name":"response_for_model"},"rawMeta":{"type":1}}}},{"name":"data","input":{"type":"string","assistType":2,"value":{"type":"ref","content":{"source":"block-output","blockID":"1236109","name":"data"},"rawMeta":{"type":7}}}}],"code":"// 在这里，您可以通过 ‘params’  获取节点中的输入变量，并通过 'ret' 输出结果\n// 'params' 和 'ret' 已经被正确地注入到环境中\n// 下面是一个示例，获取节点输入中参数名为‘input’的值：\n// const input = params.input; \n// 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\n// const ret = { \"name\": ‘小明’, \"hobbies\": [“看书”, “旅游”] };\n\nasync function main({ params }: Args): Promise<Output> {\n\n    \n    const { data, desc } = params;\n    \n    // 构建输出对象\n    const ret = {\n        \"image\":{\n            'desc':desc,\n            'url':data\n        }\n    };\n\n    return ret;\n}","language":5,"settingOnError":{"switch":false,"processType":1,"timeoutMs":60000,"retryTimes":0}},"outputs":[{"type":"object","name":"image","schema":[{"type":"string","name":"url"},{"type":"string","name":"desc"}]}],"version":"v2"},"_temp":{"bounds":{"x":1065.0200285068415,"y":-647.7837796279267,"width":360,"height":112},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","description":"编写代码，处理输入变量来生成返回值","title":"代码","mainColor":"#00B2B2"}}}],"edges":[{"sourceNodeID":"1659897","targetNodeID":"1236109","sourcePortID":"batch-function-inline-output"},{"sourceNodeID":"1236109","targetNodeID":"1514759"},{"sourceNodeID":"1659897","targetNodeID":"1406100","sourcePortID":"batch-function-inline-output"},{"sourceNodeID":"1406100","targetNodeID":"1514759"},{"sourceNodeID":"1514759","targetNodeID":"1659897","targetPortID":"batch-function-inline-input"}],"_temp":{"bounds":{"x":804.6886891720478,"y":-1154.0442005913176,"width":360,"height":112},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Batch-v2.jpg","description":"通过设定批量运行次数和逻辑，运行批处理体内的任务","title":"批处理","mainColor":"#00B2B2"}}},{"id":"157919","type":"3","meta":{"position":{"x":1685.4676884316996,"y":-1180.0442005913176}},"data":{"nodeMeta":{"description":"调用大语言模型,使用变量和提示词生成回复","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg","mainColor":"#5C62FF","subTitle":"大模型","title":"大模型_分镜"},"inputs":{"inputParameters":[{"name":"image_list","input":{"type":"list","schema":{"type":"object","schema":[{"type":"string","name":"url"},{"type":"string","name":"desc"}]},"value":{"type":"ref","content":{"source":"block-output","blockID":"1659897","name":"image_list"},"rawMeta":{"type":103}}}}],"llmParam":[{"name":"temperature","input":{"type":"float","value":{"type":"literal","content":"0.8","rawMeta":{"type":4}}}},{"name":"maxTokens","input":{"type":"integer","value":{"type":"literal","content":"2200","rawMeta":{"type":2}}}},{"name":"spCurrentTime","input":{"type":"boolean","value":{"type":"literal","content":false,"rawMeta":{"type":3}}}},{"name":"spAntiLeak","input":{"type":"boolean","value":{"type":"literal","content":false,"rawMeta":{"type":3}}}},{"name":"thinkingType","input":{"type":"string","value":{"type":"literal","content":"enabled","rawMeta":{"type":1}}}},{"name":"responseFormat","input":{"type":"integer","value":{"type":"literal","content":"2","rawMeta":{"type":2}}}},{"name":"modleName","input":{"type":"string","value":{"type":"literal","content":"DeepSeek-V3.1","rawMeta":{"type":1}}}},{"name":"modelType","input":{"type":"integer","value":{"type":"literal","content":"1755855875","rawMeta":{"type":2}}}},{"name":"generationDiversity","input":{"type":"string","value":{"type":"literal","content":"balance","rawMeta":{"type":1}}}},{"name":"prompt","input":{"type":"string","value":{"type":"literal","content":"{{input}}","rawMeta":{"type":1}}}},{"name":"enableChatHistory","input":{"type":"boolean","value":{"type":"literal","content":false,"rawMeta":{"type":3}}}},{"name":"chatHistoryRound","input":{"type":"integer","value":{"type":"literal","content":"3","rawMeta":{"type":2}}}},{"name":"systemPrompt","input":{"type":"string","value":{"type":"literal","content":"# 角色\n你是自动剪辑助手auto_clip，拥有丰富创意与专业的视频制作知识。能巧妙运用用户提供的图片描述，精准分析用户所需生成视频的风格主题，并生成视频所需的分镜以及详尽的分镜相关信息。生成过程中充分发挥创意，使生成内容既契合主题要求，又具备独特且吸引人的艺术风格。\n\n## 技能\n### 技能 1: 生成视频分镜及信息\n1. 接收用户给出的图片列表{{image_list}}中的图片描述，从多个角度全面深入分析主题和图片内容，精准挖掘情感、风格、色彩等多方面元素。\n2. 基于对图片的深度理解，从叙事节奏、视觉冲击、情感表达等关键维度进行考量，规划富有创意且逻辑连贯合理的视频分镜。\n3. 全面细致地提供分镜相关信息，如分镜时长（duration），出场动画（entrance）、退场动画（exit）。退场动画表述需与出场动画相对应，保持逻辑一致性。出场动画必须严格从出场动画限定选项中选择，退场动画必须严格从退场动画限定选项中选择，二者不能混用，也不能出现限定选项之外的内容。\n4. 若有需要，可合理灵活调整图片顺序。\n\n### 回复示例\n[\n    {\n        \"duration\": 3,\n        \"entrance\": \"缩小\",\n        \"exit\": \"放大\",\n        \"url\": \"图片的url\"\n    },\n    {\n        \"duration\": 2,\n        \"entrance\": \"向左滑动\",\n        \"exit\": \"向右滑动\",\n        \"url\": \"图片的url\"\n    }\n]\n\n### 技能 2: 背景音风格选择\n依据上述生成的分镜信息，挑选合适风格的纯音乐背景音（bgm_name），例如：阳光活泼（纯音乐）。\n\n### 技能 3: 全局出场动画\n依据用户给出图片的整体风格，从出场动画限定选项中选择合适的全局出场动画（clip_entrance）。\n\n### 技能 4: 生成背景图片绘画提示词\n根据用户给出图片的整体风格，生成一个适用于全局背板图片的绘画提示词（prompt）。绘画内容要契合给出图片的整体风格，注重场景布置、色彩风格等细节。具体风格要求如下：\n    - 绘画提示词的画面需契合用户给出图片的整体风格，线条简洁明快、流畅自然，构建完整场景，采用全景展示。\n    - 画面的色彩搭配要丰富且协调，避免色彩过于浓烈或刺眼。\n    - 场景布置要符合常识，画面元素不要过于复杂，要以纯色或渐变色为主，可以有一些简单的元素，但不要占太大的比例，要尽可能简单。\n\n## 限制:\n- 仅围绕根据用户给出的图片描述生成视频分镜及相关信息展开工作，不回答无关话题。\n- 所输出的分镜及信息内容应条理清晰、逻辑连贯，符合专业的视频制作逻辑与较高的审美标准。 \n- 分镜时长需在 2至3 秒。\n- 出场动画限定为以下选项：\"缩小\"，\"渐显\"，\"放大\"，\"旋转\"，\"Kira游动\"，\"镜像翻转\"，\"旋转开幕\"，\"折叠开幕\"，\"漩涡旋转\"，\"跳转开幕\"，\"斜切\"，\"向上转入\"，\"向上滑动\"，\"向下滑动\"，\"向左滑动\"，\"向右滑动\"，\"轻微放大\"，\"快速翻页\"，\"荧光爆闪\"，\"十字震动\"，\"爱心碰撞\"，\"冲撞\"，\"闪屏\"，\"扫描\"，\"震动波纹\"，\"分屏翻转\"，\"立体翻转\"，\"马赛克\"，\"多层环形\"，\"弹力分割\"，\"弹近\"，\"画出爱心\"，\"发光矩形\"，\"空间扭曲\"，\"四屏转换\"，\"展开\"，\"划水\"，\"色散波纹\"，\"模糊聚焦\"，\"圆形开幕\"，\"聚合\"，\"砸出波纹\"，\"向下甩动\"，\"向上滚动\"，\"拼图\"，\"向上闪入\"，\"交错开幕\"，\"便利贴\"，\"侧滑\"，\"横向模糊\"，\"闪现\"，\"水墨\"，\"交叉震动\"，\"抖动横移\"，\"抖动变焦\"，\"斜向拉丝\"，\"拉丝滑入\"，\"烟雾弹\"，\"旋转圆球\"，\"转圈圈\"，\"曝光放射\"，\"玻璃聚集\"，\"分屏横移\"，\"流金\"，\"心形放大\"，\"老电视\"，\"脉冲\"，\"能量立方\"，\"波纹弹动\" 。\n- 退场动画限定为以下选项：\"放大\"，\"渐隐\"，\"缩小\"，\"旋转\"，\"Kira游动\"，\"镜像翻转\"，\"旋转闭幕\"，\"折叠闭幕\"，\"漩涡旋转\"，\"跳转闭幕\"，\"斜切\"，\"向上转出\"，\"向下滑动\"，\"向上滑动\"，\"向右滑动\"，\"向左滑动\"，\"轻微放大\"，\"快速翻页\"，\"荧光爆闪\"，\"十字震动\"，\"爱心碰撞\"，\"冲撞\"，\"闪屏\"，\"扫描\"，\"震动波纹\"，\"分屏横移\"，\"立体翻转\"，\"马赛克\"，\"多层环形\"，\"弹力分割\"，\"弹远\"，\"画出爱心\"，\"发光矩形\"，\"空间扭曲\"，\"四屏转换\"，\"折叠\"，\"划水\"，\"色散波纹\"，\"模糊聚焦\"，\"圆形闭幕\"，\"飘散\"，\"砸出波纹\"，\"向下甩动\"，\"向上滚动\"，\"拼图\"，\"向上闪出\"，\"交错闭幕\"，\"便利贴\"，\"侧滑\"，\"横向模糊\"，\"闪现\"，\"水墨\"，\"交叉震动\"，\"抖动横移\"，\"抖动变焦\"，\"斜向拉丝\"，\"拉丝滑出\"，\"烟雾弹\"，\"旋转圆球\"，\"转圈圈\"，\"曝光放射\"，\"玻璃爆开\"，\"分屏翻转\"，\"流金\"，\"心形缩小\"，\"老电视\"，\"脉冲\"，\"能量立方\"，\"波纹弹动\"。\n- 出场动画、退场动画必须严格在上述可用选项内选择，不可使用选项之外的内容，也不可混用（即出场动画使用退场动画的选项或退场动画使用出场动画的选项）。","rawMeta":{"type":1}}}},{"name":"stableSystemPrompt","input":{"type":"string","value":{"type":"literal","content":"","rawMeta":{"type":1}}}},{"name":"canContinue","input":{"type":"boolean","value":{"type":"literal","content":false,"rawMeta":{"type":3}}}},{"name":"loopPromptVersion","input":{"type":"string","value":{"type":"literal","content":"","rawMeta":{"type":1}}}},{"name":"loopPromptName","input":{"type":"string","value":{"type":"literal","content":"","rawMeta":{"type":1}}}},{"name":"loopPromptId","input":{"type":"string","value":{"type":"literal","content":"","rawMeta":{"type":1}}}}],"fcParamVar":{"knowledgeFCParam":{}},"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"list","name":"scenes","schema":{"type":"object","schema":[{"type":"integer","name":"duration"},{"type":"string","name":"entrance"},{"type":"string","name":"exit"},{"type":"string","name":"url"}]}},{"type":"string","name":"bgm_name"},{"type":"string","name":"clip_entrance"},{"type":"string","name":"prompt"},{"type":"string","name":"reasoning_content"}],"version":"3"},"_temp":{"bounds":{"x":1505.4676884316996,"y":-1180.0442005913176,"width":360,"height":164},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg","description":"调用大语言模型,使用变量和提示词生成回复","title":"大模型","mainColor":"#5C62FF"}}},{"id":"100001","type":"1","meta":{"position":{"x":121.00622691712988,"y":-1141.0442005913176}},"data":{"nodeMeta":{"description":"工作流的起始节点，用于设定启动工作流需要的信息","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Start-v2.jpg","subTitle":"","title":"开始"},"outputs":[{"type":"list","name":"image_list","schema":{"type":"string","assistType":2},"required":true}],"trigger_parameters":[{"type":"list","name":"image_list","schema":{"type":"string","assistType":2},"required":true}]},"_temp":{"bounds":{"x":-58.99377308287012,"y":-1141.0442005913176,"width":360,"height":86},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Start-v2.jpg","description":"工作流的起始节点，用于设定启动工作流需要的信息","title":"开始","mainColor":"#5C62FF"}}},{"id":"900001","type":"2","meta":{"position":{"x":3586.8233142789654,"y":-390.0442005913176}},"data":{"nodeMeta":{"description":"工作流的最终节点，用于返回工作流运行后的结果信息","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-End-v2.jpg","subTitle":"","title":"结束"},"inputs":{"terminatePlan":"returnVariables","inputParameters":[{"name":"output","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"169807","name":"output"},"rawMeta":{"type":1}}}}]}},"_temp":{"bounds":{"x":3406.8233142789654,"y":-390.0442005913176,"width":360,"height":112},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-End-v2.jpg","description":"工作流的最终节点，用于返回工作流运行后的结果信息","title":"结束","mainColor":"#5C62FF"}}}],"edges":[{"sourceNodeID":"131139","targetNodeID":"163547"},{"sourceNodeID":"163547","targetNodeID":"142888"},{"sourceNodeID":"1466509","targetNodeID":"107619"},{"sourceNodeID":"107619","targetNodeID":"106125"},{"sourceNodeID":"106125","targetNodeID":"164177"},{"sourceNodeID":"164177","targetNodeID":"192175"},{"sourceNodeID":"167996","targetNodeID":"169807"},{"sourceNodeID":"169807","targetNodeID":"900001"},{"sourceNodeID":"142888","targetNodeID":"1466509"},{"sourceNodeID":"120984","targetNodeID":"167996"},{"sourceNodeID":"192175","targetNodeID":"120984","sourcePortID":"batch-output"},{"sourceNodeID":"157919","targetNodeID":"131139"},{"sourceNodeID":"100001","targetNodeID":"1659897"},{"sourceNodeID":"1659897","targetNodeID":"157919","sourcePortID":"batch-output"}]},"bounds":{"x":-58.99377308287012,"y":-1180.0442005913176,"width":3825.8170873618355,"height":902}}
